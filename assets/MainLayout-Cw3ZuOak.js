import{c as W,g as re,h as se,Q as Y,a as le}from"./QBtn-DxL-9-GK.js";import{c as B,w as D,g as Q,o as T,a as P,n as K,l as R,r as g,i as G,b as I,h as y,d as p,e as x,f as ae,p as ce,j as ue,k as H,m as k,q as J,s as O,t as _,F as de,u as fe,v as j,x as z,y as S,z as me,A as he,B as ge,C as ve}from"./index-Brz0LGU7.js";import{_ as Z,u as ee,D as pe}from"./DuckTimer-DGiS_c2A.js";import{s as te}from"./pinia-ifK-9CeS.js";const be=[Element,String],we=[null,document,document.body,document.scrollingElement,document.documentElement];function ye(e,r){let t=re(r);if(t===void 0){if(e==null)return window;t=e.closest(".scroll,.scroll-y,.overflow-auto")}return we.includes(t)?window:t}function _e(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function ke(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let E;function q(){if(E!==void 0)return E;const e=document.createElement("p"),r=document.createElement("div");W(e,{width:"100%",height:"200px"}),W(r,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),r.appendChild(e),document.body.appendChild(r);const t=e.offsetWidth;r.style.overflow="scroll";let o=e.offsetWidth;return t===o&&(o=r.clientWidth),r.remove(),E=t-o,E}const{passive:M}=R,xe=["both","horizontal","vertical"],Se=B({name:"QScrollObserver",props:{axis:{type:String,validator:e=>xe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:be},emits:["scroll"],setup(e,{emit:r}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,l,u;D(()=>e.scrollTarget,()=>{i(),d()});function a(){o?.();const c=Math.max(0,_e(l)),b=ke(l),f={top:c-t.position.top,left:b-t.position.left};if(e.axis==="vertical"&&f.top===0||e.axis==="horizontal"&&f.left===0)return;const L=Math.abs(f.top)>=Math.abs(f.left)?f.top<0?"up":"down":f.left<0?"left":"right";t.position={top:c,left:b},t.directionChanged=t.direction!==L,t.delta=f,t.directionChanged===!0&&(t.direction=L,t.inflectionPoint=t.position),r("scroll",{...t})}function d(){l=ye(u,e.scrollTarget),l.addEventListener("scroll",n,M),n(!0)}function i(){l!==void 0&&(l.removeEventListener("scroll",n,M),l=void 0)}function n(c){if(c===!0||e.debounce===0||e.debounce==="0")a();else if(o===null){const[b,f]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];o=()=>{f(b),o=null}}}const{proxy:h}=Q();return D(()=>h.$q.lang.rtl,a),T(()=>{u=h.$el.parentNode,d()}),P(()=>{o?.(),i()}),Object.assign(h,{trigger:n,getPosition:()=>t}),K}});function ze(){const e=g(!G.value);return e.value===!1&&T(()=>{e.value=!0}),{isHydrated:e}}const oe=typeof ResizeObserver<"u",A=oe===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},U=B({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:r}){let t=null,o,l={width:-1,height:-1};function u(i){i===!0||e.debounce===0||e.debounce==="0"?a():t===null&&(t=setTimeout(a,e.debounce))}function a(){if(t!==null&&(clearTimeout(t),t=null),o){const{offsetWidth:i,offsetHeight:n}=o;(i!==l.width||n!==l.height)&&(l={width:i,height:n},r("resize",l))}}const{proxy:d}=Q();if(d.trigger=u,oe===!0){let i;const n=h=>{o=d.$el.parentNode,o?(i=new ResizeObserver(u),i.observe(o),a()):h!==!0&&I(()=>{n(!0)})};return T(()=>{n()}),P(()=>{t!==null&&clearTimeout(t),i!==void 0&&(i.disconnect!==void 0?i.disconnect():o&&i.unobserve(o))}),K}else{let i=function(){t!==null&&(clearTimeout(t),t=null),c!==void 0&&(c.removeEventListener!==void 0&&c.removeEventListener("resize",u,R.passive),c=void 0)},n=function(){i(),o?.contentDocument&&(c=o.contentDocument.defaultView,c.addEventListener("resize",u,R.passive),a())};const{isHydrated:h}=ze();let c;return T(()=>{I(()=>{o=d.$el,o&&n()})}),P(i),()=>{if(h.value===!0)return y("object",{class:"q--avoid-card-border",style:A.style,tabindex:-1,type:"text/html",data:A.url,"aria-hidden":"true",onLoad:n})}}}}),Te=B({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:r,emit:t}){const{proxy:{$q:o}}=Q(),l=g(null),u=g(o.screen.height),a=g(e.container===!0?0:o.screen.width),d=g({position:0,direction:"down",inflectionPoint:0}),i=g(0),n=g(G.value===!0?0:q()),h=p(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),c=p(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),b=p(()=>n.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${n.value}px`}:null),f=p(()=>n.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${n.value}px`,width:`calc(100% + ${n.value}px)`}:null);function L(s){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};d.value=m,e.onScroll!==void 0&&t("scroll",m)}}function ne(s){const{height:m,width:w}=s;let v=!1;u.value!==m&&(v=!0,u.value=m,e.onScrollHeight!==void 0&&t("scrollHeight",m),V()),a.value!==w&&(v=!0,a.value=w),v===!0&&e.onResize!==void 0&&t("resize",s)}function ie({height:s}){i.value!==s&&(i.value=s,V())}function V(){if(e.container===!0){const s=u.value>i.value?q():0;n.value!==s&&(n.value=s)}}let C=null;const F={instances:{},view:p(()=>e.view),isContainer:p(()=>e.container),rootRef:l,height:u,containerHeight:i,scrollbarWidth:n,totalWidth:p(()=>a.value+n.value),rows:p(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:x({size:0,offset:0,space:!1}),right:x({size:300,offset:0,space:!1}),footer:x({size:0,offset:0,space:!1}),left:x({size:300,offset:0,space:!1}),scroll:d,animate(){C!==null?clearTimeout(C):document.body.classList.add("q-body--layout-animate"),C=setTimeout(()=>{C=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,m,w){F[s][m]=w}};if(ce(ue,F),q()>0){let s=function(){v=null,$.classList.remove("hide-scrollbar")},m=function(){if(v===null){if($.scrollHeight>o.screen.height)return;$.classList.add("hide-scrollbar")}else clearTimeout(v);v=setTimeout(s,300)},w=function(N){v!==null&&N==="remove"&&(clearTimeout(v),s()),window[`${N}EventListener`]("resize",m)},v=null;const $=document.body;D(()=>e.container!==!0?"add":"remove",w),e.container!==!0&&w("add"),ae(()=>{w("remove")})}return()=>{const s=se(r.default,[y(Se,{onScroll:L}),y(U,{onResize:ne})]),m=y("div",{class:h.value,style:c.value,ref:e.container===!0?void 0:l,tabindex:-1},s);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:l},[y(U,{onResize:ie}),y("div",{class:"absolute-full",style:b.value},[y("div",{class:"scroll",style:f.value},[m])])]):m}}}),X="/Duckmodoro/assets/ducks/working.png",Le="/Duckmodoro/assets/ducks/coffee.png",Ce="/Duckmodoro/assets/ducks/relax.png",Ee=["src"],Pe={__name:"DuckView",props:{style:Object},setup(e){const r=ee(),{currentPhase:t}=te(r),o=p(()=>{switch(t.value){case"focus":return X;case"short-break":return Le;case"long-break":return Ce;default:return X}});return(l,u)=>(k(),H("img",{src:o.value,class:"duck",style:J(e.style)},null,12,Ee))}},$e=Z(Pe,[["__scopeId","data-v-56240e9b"]]),qe={__name:"SoundToggle",setup(e){const r=new Audio(new URL("/Duckmodoro/assets/sounds/garden-sunny-day.mp3",import.meta.url).href),t=g(!1);function o(){t.value?(r.pause(),r.currentTime=0):r.play(),t.value=!t.value}return(l,u)=>(k(),O(Y,{flat:"",round:"",icon:t.value?"volume_up":"volume_off",onClick:o,"aria-label":"Toggle sound"},null,8,["icon"]))}},De={class:"tracker-board column q-pa-sm shadow-2"},Re={class:"q-ml-sm"},He={class:"q-ml-sm"},Oe={__name:"PhaseTracker",setup(e){const r=ee(),t=["focus","short-break","focus","short-break","focus","long-break"],{currentPhaseIndex:o,completedCycles:l}=te(r);function u(a){switch(a){case"focus":return"Focus";case"short-break":return"Short Break";case"long-break":return"Long Break";default:return a}}return(a,d)=>(k(),H("div",De,[d[0]||(d[0]=_("div",{class:"text-subtitle2 text-bold text-center q-mb-sm"},"Todayâ€™s Session",-1)),(k(),H(de,null,fe(t,(i,n)=>_("div",{key:n,class:"row items-center q-my-xs"},[S(le,{name:n===z(o)?"arrow_right":"fiber_manual_record",color:n===z(o)?"primary":"grey-5",size:"16px"},null,8,["name","color"]),_("span",Re,j(u(i)),1)])),64)),_("span",He,"Completed cycles:"+j(z(l)),1)]))}},Be=Z(Oe,[["__scopeId","data-v-70887076"]]);function Qe(){return me(he)}const Ve="/Duckmodoro/assets/background-day.png",Fe="/Duckmodoro/assets/background-night.png",Ne=["alt","src"],We={class:"absolute-top-right q-ma-md"},Ie=.605,je=.835,Ye={__name:"MainLayout",setup(e){const r=Qe(),t=p(()=>r.dark.isActive);function o(){r.dark.toggle()}const l=g(null),u=g(null),a=g(!1),d=x({top:"0px",left:"0px"});function i(){const n=l.value,h=u.value;if(!n||!h)return;const c=n.getBoundingClientRect();if(c.width===0||c.height===0)return;const b=c.left+c.width*Ie,f=c.top+c.height*je;d.left=`${b}px`,d.top=`${f}px`,a.value=!0}return T(()=>{window.addEventListener("resize",i)}),P(()=>{window.removeEventListener("resize",i)}),(n,h)=>(k(),O(Te,{view:"lHh Lpr lFf",class:"background-container",ref_key:"containerRef",ref:u},{default:ge(()=>[_("img",{ref_key:"bgRef",ref:l,alt:t.value?"Night background":"Day background",src:t.value?z(Fe):z(Ve),class:"background-image",onLoad:i},null,40,Ne),a.value?(k(),O($e,{key:0,style:J(d)},null,8,["style"])):ve("",!0),_("div",We,[S(Y,{dense:"",flat:"",round:"",icon:"brightness_6",onClick:o,"aria-label":t.value?"Switch to Day":"Switch to Night"},null,8,["aria-label"])]),S(pe),S(Be),S(qe)]),_:1},512))}};export{Ye as default};
