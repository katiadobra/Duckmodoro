import{c as W,g as re,h as se,Q as Y,a as le}from"./QBtn-Cm2wnVRB.js";import{c as B,w as q,g as Q,o as z,a as E,n as K,l as R,r as v,i as G,b as I,h as y,d as p,e as x,f as ae,p as ce,j as ue,k as H,m as k,q as J,s as O,t as _,F as de,u as fe,v as j,x as D,y as S,z as me,A as he,B as ve,C as ge,D as pe}from"./index-CtTdL9cw.js";import{_ as Z,u as ee,D as be}from"./DuckTimer-CDhe6jrB.js";import{s as te}from"./pinia-CW4-lDCY.js";const we=[Element,String],ye=[null,document,document.body,document.scrollingElement,document.documentElement];function _e(e,r){let t=re(r);if(t===void 0){if(e==null)return window;t=e.closest(".scroll,.scroll-y,.overflow-auto")}return ye.includes(t)?window:t}function ke(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function xe(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let C;function $(){if(C!==void 0)return C;const e=document.createElement("p"),r=document.createElement("div");W(e,{width:"100%",height:"200px"}),W(r,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),r.appendChild(e),document.body.appendChild(r);const t=e.offsetWidth;r.style.overflow="scroll";let o=e.offsetWidth;return t===o&&(o=r.clientWidth),r.remove(),C=t-o,C}const{passive:M}=R,Se=["both","horizontal","vertical"],ze=B({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Se.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:we},emits:["scroll"],setup(e,{emit:r}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,l,u;q(()=>e.scrollTarget,()=>{i(),d()});function a(){o?.();const c=Math.max(0,ke(l)),b=xe(l),m={top:c-t.position.top,left:b-t.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const T=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";t.position={top:c,left:b},t.directionChanged=t.direction!==T,t.delta=m,t.directionChanged===!0&&(t.direction=T,t.inflectionPoint=t.position),r("scroll",{...t})}function d(){l=_e(u,e.scrollTarget),l.addEventListener("scroll",n,M),n(!0)}function i(){l!==void 0&&(l.removeEventListener("scroll",n,M),l=void 0)}function n(c){if(c===!0||e.debounce===0||e.debounce==="0")a();else if(o===null){const[b,m]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];o=()=>{m(b),o=null}}}const{proxy:f}=Q();return q(()=>f.$q.lang.rtl,a),z(()=>{u=f.$el.parentNode,d()}),E(()=>{o?.(),i()}),Object.assign(f,{trigger:n,getPosition:()=>t}),K}});function Te(){const e=v(!G.value);return e.value===!1&&z(()=>{e.value=!0}),{isHydrated:e}}const oe=typeof ResizeObserver<"u",A=oe===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},U=B({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:r}){let t=null,o,l={width:-1,height:-1};function u(i){i===!0||e.debounce===0||e.debounce==="0"?a():t===null&&(t=setTimeout(a,e.debounce))}function a(){if(t!==null&&(clearTimeout(t),t=null),o){const{offsetWidth:i,offsetHeight:n}=o;(i!==l.width||n!==l.height)&&(l={width:i,height:n},r("resize",l))}}const{proxy:d}=Q();if(d.trigger=u,oe===!0){let i;const n=f=>{o=d.$el.parentNode,o?(i=new ResizeObserver(u),i.observe(o),a()):f!==!0&&I(()=>{n(!0)})};return z(()=>{n()}),E(()=>{t!==null&&clearTimeout(t),i!==void 0&&(i.disconnect!==void 0?i.disconnect():o&&i.unobserve(o))}),K}else{let i=function(){t!==null&&(clearTimeout(t),t=null),c!==void 0&&(c.removeEventListener!==void 0&&c.removeEventListener("resize",u,R.passive),c=void 0)},n=function(){i(),o?.contentDocument&&(c=o.contentDocument.defaultView,c.addEventListener("resize",u,R.passive),a())};const{isHydrated:f}=Te();let c;return z(()=>{I(()=>{o=d.$el,o&&n()})}),E(i),()=>{if(f.value===!0)return y("object",{class:"q--avoid-card-border",style:A.style,tabindex:-1,type:"text/html",data:A.url,"aria-hidden":"true",onLoad:n})}}}}),Le=B({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:r,emit:t}){const{proxy:{$q:o}}=Q(),l=v(null),u=v(o.screen.height),a=v(e.container===!0?0:o.screen.width),d=v({position:0,direction:"down",inflectionPoint:0}),i=v(0),n=v(G.value===!0?0:$()),f=p(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),c=p(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),b=p(()=>n.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${n.value}px`}:null),m=p(()=>n.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${n.value}px`,width:`calc(100% + ${n.value}px)`}:null);function T(s){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};d.value=h,e.onScroll!==void 0&&t("scroll",h)}}function ne(s){const{height:h,width:w}=s;let g=!1;u.value!==h&&(g=!0,u.value=h,e.onScrollHeight!==void 0&&t("scrollHeight",h),V()),a.value!==w&&(g=!0,a.value=w),g===!0&&e.onResize!==void 0&&t("resize",s)}function ie({height:s}){i.value!==s&&(i.value=s,V())}function V(){if(e.container===!0){const s=u.value>i.value?$():0;n.value!==s&&(n.value=s)}}let L=null;const F={instances:{},view:p(()=>e.view),isContainer:p(()=>e.container),rootRef:l,height:u,containerHeight:i,scrollbarWidth:n,totalWidth:p(()=>a.value+n.value),rows:p(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:x({size:0,offset:0,space:!1}),right:x({size:300,offset:0,space:!1}),footer:x({size:0,offset:0,space:!1}),left:x({size:300,offset:0,space:!1}),scroll:d,animate(){L!==null?clearTimeout(L):document.body.classList.add("q-body--layout-animate"),L=setTimeout(()=>{L=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,h,w){F[s][h]=w}};if(ce(ue,F),$()>0){let s=function(){g=null,P.classList.remove("hide-scrollbar")},h=function(){if(g===null){if(P.scrollHeight>o.screen.height)return;P.classList.add("hide-scrollbar")}else clearTimeout(g);g=setTimeout(s,300)},w=function(N){g!==null&&N==="remove"&&(clearTimeout(g),s()),window[`${N}EventListener`]("resize",h)},g=null;const P=document.body;q(()=>e.container!==!0?"add":"remove",w),e.container!==!0&&w("add"),ae(()=>{w("remove")})}return()=>{const s=se(r.default,[y(ze,{onScroll:T}),y(U,{onResize:ne})]),h=y("div",{class:f.value,style:c.value,ref:e.container===!0?void 0:l,tabindex:-1},s);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:l},[y(U,{onResize:ie}),y("div",{class:"absolute-full",style:b.value},[y("div",{class:"scroll",style:m.value},[h])])]):h}}}),X="/Duckmodoro/assets/ducks/working.png",Ce="/Duckmodoro/assets/ducks/coffee.png",De="/Duckmodoro/assets/ducks/relax.png",Ee=["src"],Pe={__name:"DuckView",props:{style:Object},setup(e){const r=ee(),{currentPhase:t}=te(r),o=p(()=>{switch(t.value){case"focus":return X;case"short-break":return Ce;case"long-break":return De;default:return X}});return(l,u)=>(k(),H("img",{src:o.value,class:"duck",style:J(e.style)},null,12,Ee))}},$e=Z(Pe,[["__scopeId","data-v-35f0fd2c"]]),qe={__name:"SoundToggle",setup(e){const r=new Audio(new URL("/Duckmodoro/assets/sounds/garden-sunny-day.mp3",import.meta.url).href),t=v(!1);function o(){t.value?(r.pause(),r.currentTime=0):r.play(),t.value=!t.value}return(l,u)=>(k(),O(Y,{flat:"",round:"",icon:t.value?"volume_up":"volume_off",onClick:o,"aria-label":"Toggle sound"},null,8,["icon"]))}},Re={class:"tracker-board column q-pa-sm shadow-2"},He={class:"q-ml-sm"},Oe={class:"q-ml-sm"},Be={__name:"PhaseTracker",setup(e){const r=ee(),t=["focus","short-break","focus","short-break","focus","long-break"],{currentPhaseIndex:o,completedCycles:l}=te(r);function u(a){switch(a){case"focus":return"Focus";case"short-break":return"Short Break";case"long-break":return"Long Break";default:return a}}return(a,d)=>(k(),H("div",Re,[d[0]||(d[0]=_("div",{class:"text-subtitle2 text-bold text-center q-mb-sm"},"Todayâ€™s Session",-1)),(k(),H(de,null,fe(t,(i,n)=>_("div",{key:n,class:"row items-center q-my-xs"},[S(le,{name:n===D(o)?"arrow_right":"fiber_manual_record",color:n===D(o)?"primary":"grey-5",size:"16px"},null,8,["name","color"]),_("span",He,j(u(i)),1)])),64)),_("span",Oe,"Completed cycles:"+j(D(l)),1)]))}},Qe=Z(Be,[["__scopeId","data-v-70887076"]]);function Ve(){return me(he)}const Fe="/Duckmodoro/assets/background-day.png",Ne=["alt","src"],We={class:"absolute-top-right q-ma-md"},Ie=.606,je=.837,Ye={__name:"MainLayout",setup(e){const r=Ve(),t=p(()=>r.dark.isActive);function o(){r.dark.toggle()}const l=v(null),u=v(null),a=v(!1),d=x({top:"0px",left:"0px"});function i(){const n=l.value,f=u.value;if(!n||!f)return;const c=n.getBoundingClientRect();if(c.width===0||c.height===0)return;const b=c.left+c.width*Ie,m=c.top+c.height*je;d.left=`${b}px`,d.top=`${m}px`,a.value=!0}return z(()=>{window.addEventListener("resize",i)}),E(()=>{window.removeEventListener("resize",i)}),(n,f)=>(k(),O(Le,{view:"lHh Lpr lFf",class:"background-container",ref_key:"containerRef",ref:u},{default:ve(()=>[f[0]||(f[0]=_("h1",{class:"h1"},"Duck Studio",-1)),_("img",{ref_key:"bgRef",ref:l,alt:t.value?"Night background":"Day background",src:D(Fe),class:pe(["background-image",{"dark-mode":t.value}]),onLoad:i},null,42,Ne),a.value?(k(),O($e,{key:0,style:J(d)},null,8,["style"])):ge("",!0),_("div",We,[S(Y,{dense:"",flat:"",round:"",icon:"brightness_6",onClick:o,"aria-label":t.value?"Switch to Day":"Switch to Night"},null,8,["aria-label"])]),S(be),S(Qe),S(qe)]),_:1},512))}};export{Ye as default};
