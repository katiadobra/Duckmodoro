import{c as I,g as le,h as re,Q as K,a as ae}from"./QBtn-DSwTa2vl.js";import{c as Q,w as $,g as V,o as T,a as D,n as G,l as R,r as v,i as J,b as j,h as y,d as p,e as x,f as ce,p as ue,j as de,k as H,m as _,q as Z,s as O,t as k,F as fe,u as me,v as M,x as S,y as z,z as B,A as he,B as ve,C as ge,D as pe}from"./index-CNSGB33R.js";import{_ as ee,u as te,D as be}from"./DuckTimer-BqDphERA.js";import{s as oe}from"./pinia-BbNaXruA.js";const we=[Element,String],ye=[null,document,document.body,document.scrollingElement,document.documentElement];function ke(e,s){let t=le(s);if(t===void 0){if(e==null)return window;t=e.closest(".scroll,.scroll-y,.overflow-auto")}return ye.includes(t)?window:t}function _e(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function xe(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let q;function P(){if(q!==void 0)return q;const e=document.createElement("p"),s=document.createElement("div");I(e,{width:"100%",height:"200px"}),I(s,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),s.appendChild(e),document.body.appendChild(s);const t=e.offsetWidth;s.style.overflow="scroll";let o=e.offsetWidth;return t===o&&(o=s.clientWidth),s.remove(),q=t-o,q}const{passive:A}=R,Se=["both","horizontal","vertical"],ze=Q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Se.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:we},emits:["scroll"],setup(e,{emit:s}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,r,u;$(()=>e.scrollTarget,()=>{i(),d()});function a(){o?.();const c=Math.max(0,_e(r)),b=xe(r),m={top:c-t.position.top,left:b-t.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const L=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";t.position={top:c,left:b},t.directionChanged=t.direction!==L,t.delta=m,t.directionChanged===!0&&(t.direction=L,t.inflectionPoint=t.position),s("scroll",{...t})}function d(){r=ke(u,e.scrollTarget),r.addEventListener("scroll",n,A),n(!0)}function i(){r!==void 0&&(r.removeEventListener("scroll",n,A),r=void 0)}function n(c){if(c===!0||e.debounce===0||e.debounce==="0")a();else if(o===null){const[b,m]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];o=()=>{m(b),o=null}}}const{proxy:f}=V();return $(()=>f.$q.lang.rtl,a),T(()=>{u=f.$el.parentNode,d()}),D(()=>{o?.(),i()}),Object.assign(f,{trigger:n,getPosition:()=>t}),G}});function Te(){const e=v(!J.value);return e.value===!1&&T(()=>{e.value=!0}),{isHydrated:e}}const ne=typeof ResizeObserver<"u",U=ne===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},X=Q({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:s}){let t=null,o,r={width:-1,height:-1};function u(i){i===!0||e.debounce===0||e.debounce==="0"?a():t===null&&(t=setTimeout(a,e.debounce))}function a(){if(t!==null&&(clearTimeout(t),t=null),o){const{offsetWidth:i,offsetHeight:n}=o;(i!==r.width||n!==r.height)&&(r={width:i,height:n},s("resize",r))}}const{proxy:d}=V();if(d.trigger=u,ne===!0){let i;const n=f=>{o=d.$el.parentNode,o?(i=new ResizeObserver(u),i.observe(o),a()):f!==!0&&j(()=>{n(!0)})};return T(()=>{n()}),D(()=>{t!==null&&clearTimeout(t),i!==void 0&&(i.disconnect!==void 0?i.disconnect():o&&i.unobserve(o))}),G}else{let i=function(){t!==null&&(clearTimeout(t),t=null),c!==void 0&&(c.removeEventListener!==void 0&&c.removeEventListener("resize",u,R.passive),c=void 0)},n=function(){i(),o?.contentDocument&&(c=o.contentDocument.defaultView,c.addEventListener("resize",u,R.passive),a())};const{isHydrated:f}=Te();let c;return T(()=>{j(()=>{o=d.$el,o&&n()})}),D(i),()=>{if(f.value===!0)return y("object",{class:"q--avoid-card-border",style:U.style,tabindex:-1,type:"text/html",data:U.url,"aria-hidden":"true",onLoad:n})}}}}),Le=Q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:t}){const{proxy:{$q:o}}=V(),r=v(null),u=v(o.screen.height),a=v(e.container===!0?0:o.screen.width),d=v({position:0,direction:"down",inflectionPoint:0}),i=v(0),n=v(J.value===!0?0:P()),f=p(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),c=p(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),b=p(()=>n.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${n.value}px`}:null),m=p(()=>n.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${n.value}px`,width:`calc(100% + ${n.value}px)`}:null);function L(l){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:l.position.top,direction:l.direction,directionChanged:l.directionChanged,inflectionPoint:l.inflectionPoint.top,delta:l.delta.top};d.value=h,e.onScroll!==void 0&&t("scroll",h)}}function ie(l){const{height:h,width:w}=l;let g=!1;u.value!==h&&(g=!0,u.value=h,e.onScrollHeight!==void 0&&t("scrollHeight",h),F()),a.value!==w&&(g=!0,a.value=w),g===!0&&e.onResize!==void 0&&t("resize",l)}function se({height:l}){i.value!==l&&(i.value=l,F())}function F(){if(e.container===!0){const l=u.value>i.value?P():0;n.value!==l&&(n.value=l)}}let C=null;const N={instances:{},view:p(()=>e.view),isContainer:p(()=>e.container),rootRef:r,height:u,containerHeight:i,scrollbarWidth:n,totalWidth:p(()=>a.value+n.value),rows:p(()=>{const l=e.view.toLowerCase().split(" ");return{top:l[0].split(""),middle:l[1].split(""),bottom:l[2].split("")}}),header:x({size:0,offset:0,space:!1}),right:x({size:300,offset:0,space:!1}),footer:x({size:0,offset:0,space:!1}),left:x({size:300,offset:0,space:!1}),scroll:d,animate(){C!==null?clearTimeout(C):document.body.classList.add("q-body--layout-animate"),C=setTimeout(()=>{C=null,document.body.classList.remove("q-body--layout-animate")},155)},update(l,h,w){N[l][h]=w}};if(ue(de,N),P()>0){let l=function(){g=null,E.classList.remove("hide-scrollbar")},h=function(){if(g===null){if(E.scrollHeight>o.screen.height)return;E.classList.add("hide-scrollbar")}else clearTimeout(g);g=setTimeout(l,300)},w=function(W){g!==null&&W==="remove"&&(clearTimeout(g),l()),window[`${W}EventListener`]("resize",h)},g=null;const E=document.body;$(()=>e.container!==!0?"add":"remove",w),e.container!==!0&&w("add"),ce(()=>{w("remove")})}return()=>{const l=re(s.default,[y(ze,{onScroll:L}),y(X,{onResize:ie})]),h=y("div",{class:f.value,style:c.value,ref:e.container===!0?void 0:r,tabindex:-1},l);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:r},[y(X,{onResize:se}),y("div",{class:"absolute-full",style:b.value},[y("div",{class:"scroll",style:m.value},[h])])]):h}}}),Y="/Duckmodoro/assets/ducks/working.png",Ce="/Duckmodoro/assets/ducks/coffee.png",qe="/Duckmodoro/assets/ducks/relax.png",De=["src"],Ee={__name:"DuckView",props:{style:Object},setup(e){const s=te(),{currentPhase:t}=oe(s),o=p(()=>{switch(t.value){case"focus":return Y;case"short-break":return Ce;case"long-break":return qe;default:return Y}});return(r,u)=>(_(),H("img",{src:o.value,class:"duck",style:Z(e.style)},null,12,De))}},Pe=ee(Ee,[["__scopeId","data-v-96754f5c"]]),$e={__name:"SoundToggle",setup(e){const s=new Audio(new URL("/Duckmodoro/assets/sounds/garden-sunny-day.mp3",import.meta.url).href),t=v(!1);function o(){t.value?(s.pause(),s.currentTime=0):s.play(),t.value=!t.value}return(r,u)=>(_(),O(K,{flat:"",round:"",class:"action-btn",icon:t.value?"volume_up":"volume_off",onClick:o,"aria-label":"Toggle sound"},null,8,["icon"]))}},Re={class:"tracker-board column q-pa-sm text-bold"},He={class:"q-my-md text-subtitle1 text-bold"},Oe={__name:"PhaseTracker",setup(e){const s=te(),t=["focus","short-break","focus","short-break","focus","long-break"],{currentPhaseIndex:o,completedCycles:r}=oe(s);function u(a){switch(a){case"focus":return"Focus";case"short-break":return"Short Break";case"long-break":return"Long Break";default:return a}}return(a,d)=>(_(),H("div",Re,[d[0]||(d[0]=k("div",{class:"text-h6 text-bold text-center q-mb-sm"},"Todayâ€™s Session",-1)),(_(),H(fe,null,me(t,(i,n)=>k("div",{key:n,class:"row flex items-center q-my-none q-pa-none text-h5 text-bold"},[z(ae,{name:n===S(o)&&"arrow_forward_ios",class:B([n===S(o)&&"active on-left","on-left"]),size:"14px"},null,8,["name","class"]),k("span",{class:B(["q-ml-sm",n===S(o)&&"active"])},M(u(i)),3)])),64)),k("span",He,"Completed cycles: "+M(S(r)),1)]))}},Be=ee(Oe,[["__scopeId","data-v-d5175eb2"]]);function Qe(){return he(ve)}const Ve="/Duckmodoro/assets/background-day.png",Fe=["alt","src"],Ne={class:"absolute-top-right q-ma-lg"},We=.606,Ie=.837,Xe={__name:"MainLayout",setup(e){const s=Qe(),t=p(()=>s.dark.isActive);function o(){s.dark.toggle()}const r=v(null),u=v(null),a=v(!1),d=x({top:"0px",left:"0px"});function i(){const n=r.value,f=u.value;if(!n||!f)return;const c=n.getBoundingClientRect();if(c.width===0||c.height===0)return;const b=c.left+c.width*We,m=c.top+c.height*Ie;d.left=`${b}px`,d.top=`${m}px`,a.value=!0}return T(()=>{window.addEventListener("resize",i)}),D(()=>{window.removeEventListener("resize",i)}),(n,f)=>(_(),O(Le,{view:"lHh Lpr lFf",class:"background-container",ref_key:"containerRef",ref:u},{default:ge(()=>[f[0]||(f[0]=k("h1",{class:"h1"},"Duck Studio",-1)),k("img",{ref_key:"bgRef",ref:r,alt:t.value?"Night background":"Day background",src:S(Ve),class:B(["background-image",{"dark-mode":t.value}]),onLoad:i},null,42,Fe),a.value?(_(),O(Pe,{key:0,style:Z(d)},null,8,["style"])):pe("",!0),k("div",Ne,[z(K,{dense:"",flat:"",icon:"brightness_6",class:"action-btn mode-btn",onClick:o,"aria-label":t.value?"Switch to Day":"Switch to Night"},null,8,["aria-label"])]),z(be),z(Be),z($e)]),_:1},512))}};export{Xe as default};
